物理层提供的原始的传送比特流的可能出错的物理连接改造成为
逻辑上 无差错 的 数据链路。

最基本的服务就是将源机器网络层来的数据可靠地传输到  相邻节点 的目标机网络层 。

特定功能：
- 主要有如何将比特组合成帧（frame）
- 处理传输中出现的差错
- 链路管理即管理数据链路层连接的建立、维持和释放，调节发送方的发送速率不至于使较慢的接收方不能承受

常常在两个对等的数据链路层之间画出一个数字管道，而在这条数字管道上传输的数据单位是帧。
帧（头部，尾部，数据）
![[Pasted image 20250331142114.png|450]]

### 3.1.1 帧同步
#### 1.字节计数法
一帧固定位数 bit
一旦一个头部出问题，后续帧全部混乱
通常与其他方式混合使用
#### 2.字符填充的首尾定界符法
有效载荷内不能有标记（flag）:
	通过字符（ASCII码）填充解决
	当有效载荷出现……时，用 ……
		FLAG -> ESC FLAG
		ESC -> ESC ESC
		ESC FLAG -> ESC ESC FLAG
	即出现ESC或FLAG，都在前加一个ESC

#### 3.比特填充的首尾标志法
标志： 0 111111 0（中间6个0）
当有效荷载出现连续 5 个 1 时，在末尾加一个 0
#### 4.违例编码法
在物理层采用特定的比特编码方法时采用。
   如曼彻斯特编码方法中将数据比特1编码成高-低电平对，而将数据比特0编码成低-高电平对。
   高-高电平或低-低电平对在这里是违例的，可以借用这些违例编码的序列来界定帧的开始和结束。
  ![[2.2 数字编码#2.2.3 曼彻斯特编码（Manchester Encoding）]]
### 3.1.2 差错控制
Ø由差错控制码产生的校验和可以检查出一帧在传输中是否发生了错误。一旦检查出错误后，通常采用反馈重发的方法来纠正错误。

实现复杂一点的机制，要用：
	保留己发的帧：以便出错后重发，在接受方确认后释放
	计时器 (timer)：避免无限等待，在对方未收到时，超过额定时间，重新发送保留的帧
	帧编号 ：保证每帧最终都能正确地交付给接收方网络层一次（可能对方发出确认信号丢失，导致重发两次，对方通过帧的编号，防止重复 ）

### 3.1.3 流量控制
流量控制处理的是发送方发送能力大于接收方接收能力的问题，其实际是要控制发送方的数据流量。
数据链路层控制的是相邻两节点间数据链路上的流量


### 3.1.4 链路管理
1.无确认的无连接服务
	无连接：有数据时直接发送
2.有确认的无连接服务
	ACK：接受方收到数据返回
	NAK：接受方未收到数据返回

3.有确认的面向连接服务
发送之前需要向对方发送连接请求，收到对方同意后，才发送数据


  