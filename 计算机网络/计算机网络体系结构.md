## 1.3 计算机网络体系结构
### 1.3.1 层次模型
![[Pasted image 20250320200116.png|500]]
<center>计算机网络(b)类比计算机层次(a)</center>
#### 层次模型相关概念
协议(protocol) ：指通信双方关于如何进行通信的一种约定。
- 信息内容的理解
- 信息表示形式
- 各种情况下的应答信号等
网络体系结构(network architecture) ：层和协议的集合。
- 如何分层
- 各层中采用的具体协议
#### 分层
分层的优势：各层独立，灵活性，可分割结构，易于维护实现，促进标准化
层数过少，每层过复杂；层次太多，接口过于复杂

#### 基本层次划分
 通信软件的必须接口：
	- 面向用户应用（US）
	- 面向通信线路（CS）
	- ![[Pasted image 20250320201200.png|350]]

#### 服务与协议的关系
服务（层与层间的接口）：向上一层提供的一组原语
协议（不同机器间）：规定同一层上对等实体之间所交换的数据包格式和含义
![[Pasted image 20250320201712.png|500]] ^e40b27

#### 网络体系结构中数据传递模型
![[Pasted image 20250320202312.png|500]]
链路层尾部：校验
每层的数据都不认识上一层头部信息，只能理解下一层传来的数据这本层的头部信息


- 除了在物理媒体上进行的是实通信外，其余各对等层实体间进行的都是虚通信 。
- 对等层的虚通信必须遵循该层的协议。
- 层的虚通信是通过其与n-1层间接口处n-1层提供的服务以及n-1层的通信(通常也是虚通信)来实现的。

### 开放系统互联基本参考模型
为获得健壮的通信系统，该模型定义了7 层，并详细给出了每层的功能要求。
该模型并未定义实现每层功能的协议，也没有将实现方案限制在某一单一协议上。

![[Pasted image 20250320202606.png|500]]
![[计算机网络演变和发展#1.1.3 第二阶段：计算机-计算机网络]]
==这里网络层为通信子网==

#### 1. [[物理层]]
关注通信信道上传输的原始比特。主要涉及机械、电气和时序接口，以及物理传输介质。
- 在物理媒体上传输原始的数据比特流信号。

#### 2. 数据链路层
通过校验、确认和反馈重发等手段将原始的物理连接改造成无差错的数据链路，同时还要进行流量控制。 帧(frame)为单位，在后部加检验码，头部破坏后，确保接受方确认收到

#### 3. 网络层
主要关心通信子网的运行控制，负责路由选择和拥塞控制。
- 把网络协议数据单元分组（Packet）从源传送到目标
- 在通信子网进行路由选择。
- 处理拥塞，防止运输瓶颈。

#### 4. 运输层（第一个端到端的虚通信）
- 是第一个端对端，也就是主机到主机的层次；
- 高层用户可利用运输层的服务直接进行端到端的数据传输，从而不必知道通信子网的存在；
- 可以通过分流(splitting) 来提高吞吐量；
- 通过复用(multiplexing) 将多个运输通信合用一条网络连接。
- 处理端到端的差错控制和流量控制的问题

#### 5. 会话层
负责管理和建立不同机器上各种进程间的连接。
- 会话层是进程到进程之间的层次；
- 会话层组织和同步进程间的对话；
- 全双工或半双工。（处理传输断点）
- 提供同步服务 。

会话层很少以独立协议体的形式出现，一般和应用层的功能结合在一起，用单个协议实现。

#### 6. 表示层
主要为上层用户提供共同需要的数据或信息语法表示变换。
- 通过采用抽象的标准方法来定义数据结构，可以克服不同机器上数据表示或不同编码之间的差异。
- 通过数据加密和解密来保证应用服务数据交换的安全性。
（例： 单片机，32/64位机器间的传输）

#### 7. 应用层
包含了用户通常需要的各种协议。
例：
- 不同主机间的文件传送、访问和管理FTAM(File Transfer, Access and Management)
- 传送标准电子邮件的报文处理系统MHS(Message Handling System)
- 超文本传输协议HTTP(HyperText Transfer Protocol)

==下三层只处理传输过程==

#### [服务原语](#^e40b27)
个服务是通过一组服务原语来执行的。OSI模型中，将服务原语划分为四类：
1. 请求(request)
2. 指示(indication)
3. 响应(response)
4. 证实(confirm)
![[Pasted image 20250320205730.png|310]]![[Pasted image 20250320205845.png|320]]

### 1.3.3 Internet 参考模型
前身ARPANET（1990年关闭）以TCP/IP协议为核心、以ARPANET为主干网开始将许多不同的网络互连在一起，构成了Internet的原型，并对TCP/IP协议及技术进行试验

#### 工作方式（采用存储转发）
- 信息封装成包(package), 又称分组
- IP协议就是关于在Internet中传递的分组封装格式的约定
- 分组在Internet中是通过若干路由器(router)间转发来传递到目标点的

![[Pasted image 20250320210329.png|400]]
每一个数据段前面添加上首部构成分组
![[Pasted image 20250320210442.png|500]]

没一步在路由器暂存后，通过查找转发表，找到转发的端口

Internet 地址IP地址，有四个字节，32位二进制位

域名(domain name)
域名中的最后一个域有时也称为顶级域名，以区分机构或组织的性质。(例: .com .edu)
域名服务器DNS(Domain Name Server)的系统可以帮助你自动地从域名来找到其相应的IP地址

TCP/IP 层次模型
![[Pasted image 20250320211111.png|450]]

#### 1. 子网层
#### 2. 互联网层（只有IP协议）
#### 3. 运输层 （TCP/UDP协议）

TCP和UDP间的主要区别在于，前者提供的是面向连接的服务（connection-oriented service），而后者提供的是无连接的服务，UDP更灵活
#### 4. 应用层
例：虚拟终端协议TELNET，文件传输协议FTP，电子邮件协议SMTP，域名系统服务DNS、HTTP协议

### 1.3.4 OSI和Internet模型比较


